define("torabot/main/0.1.0/init",["seajs/seajs-style/1.0.2/seajs-style","./ut","./search","arale/cookie/1.0.2/cookie","./intro","./introjs.min.css","./introjs"],function(a){a("seajs/seajs-style/1.0.2/seajs-style"),a("./ut"),a("./search"),Cookie=a("arale/cookie/1.0.2/cookie"),"0"!=Cookie.get("intro")&&a("./intro")}),!function(){var a,b=/\W/g,c=document,d=document.getElementsByTagName("head")[0]||document.documentElement;seajs.importStyle=function(e,f){if(!f||(f=f.replace(b,"-"),!c.getElementById(f))){var g;if(!a||f?(g=c.createElement("style"),f&&(g.id=f),d.appendChild(g)):g=a,g.styleSheet){if(c.getElementsByTagName("style").length>31)throw new Error("Exceed the maximal count of style tags in IE");g.styleSheet.cssText+=e}else g.appendChild(c.createTextNode(e));f||(a=g)}},define("seajs/seajs-style/1.0.2/seajs-style",[],{})}(),define("torabot/main/0.1.0/ut",[],function(){Object.defineProperty(Object.prototype,"contains",{value:function(a){return-1!=this.indexOf(a)},enumerable:!1})}),define("torabot/main/0.1.0/search",[],function(){$(function(){$.torabot={},$.torabot.cast=function(a,b){return{text:function(a){return a.toString()},"int":parseInt}[a](b)}}),$(function(){$.fn.popup_text_edit=function(a){$(this).editable($.extend({},{type:"text",mode:"popup",url:function(a){var b=$.Deferred(),c=$(this);if(c.data("args"))var d=c.data("args");else var d={};if(c.data("field"))var e=c.data("field");else var e="value";return d[e]=$.torabot.cast(c.data("kind"),a.value),$.ajax({url:c.data("uri"),type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(d)}).done(b.resolve).fail(b.reject),b},error:function(a){new PNotify({text:JSON.parse(a.responseText).message.html,type:"error",icon:!1,buttons:{closer:!0,sticker:!1}})}},a||{}))}}),$(function(){var a=$('form[name="search"]'),b=a.find('input[name="q"]'),c=a.find('select[name="kind"]');a.find('button[name="help"]').click(function(a){a.preventDefault(),$(location).attr("href","/help/"+c.find("option:selected").val())});var d=a.find('button[name="search"]');d.click(function(a){a.preventDefault();var d=c.find("option:selected"),e=d.val(),f=b.val();return f||d.data("allow-empty-query")?($(location).attr("href","/search/"+e+"?"+$.param({q:f})),void 0):(new PNotify({text:"查询不能为空",type:"error",icon:!1}),void 0)});var e=a.find('button[name="advanced"]');e.click(function(a){a.preventDefault(),$(location).attr("href","/search/advanced/"+c.find("option:selected").val())}),a.find('span[name="buttons"]');var f=function(){var a=$(this).find("option:selected");e.prop("disabled",!a.data("has-advanced-search")),b.prop("disabled",!a.data("has-normal-search")),d.prop("disabled",!a.data("has-normal-search")),a.data("has-normal-search")?b.prop("placeholder",a.data("normal-search-prompt")):b.prop("placeholder","请使用高级搜索")};c.ready(f).change(f)})}),define("arale/cookie/1.0.2/cookie",[],function(a,b){function c(a,b){var c={};if(d(a)&&a.length>0)for(var e,f,h,j=b?i:g,k=a.split(/;\s/g),l=0,m=k.length;m>l;l++){if(h=k[l].match(/([^=]+)=/i),h instanceof Array)try{e=i(h[1]),f=j(k[l].substring(h[1].length+1))}catch(n){}else e=i(k[l]),f="";e&&(c[e]=f)}return c}function d(a){return"string"==typeof a}function e(a){return d(a)&&""!==a}function f(a){if(!e(a))throw new TypeError("Cookie name must be a non-empty string")}function g(a){return a}var h=b,i=decodeURIComponent,j=encodeURIComponent;h.get=function(a,b){f(a),b="function"==typeof b?{converter:b}:b||{};var d=c(document.cookie,!b.raw);return(b.converter||g)(d[a])},h.set=function(a,b,c){f(a),c=c||{};var d=c.expires,g=c.domain,h=c.path;c.raw||(b=j(b+""));var i=a+"="+b,k=d;return"number"==typeof k&&(k=new Date,k.setDate(k.getDate()+d)),k instanceof Date&&(i+="; expires="+k.toUTCString()),e(g)&&(i+="; domain="+g),e(h)&&(i+="; path="+h),c.secure&&(i+="; secure"),document.cookie=i,i},h.remove=function(a,b){return b=b||{},b.expires=new Date(0),this.set(a,"",b)}}),define("torabot/main/0.1.0/intro",["torabot/main/0.1.0/introjs","arale/cookie/1.0.2/cookie"],function(a){a("torabot/main/0.1.0/introjs.min.css");var b=a("torabot/main/0.1.0/introjs").introJs;Cookie=a("arale/cookie/1.0.2/cookie"),$(function(){$("body").addClass("intro"),$(".navbar").removeClass("navbar-fixed-top");var a=function(){$("body").removeClass("intro"),$(".navbar").addClass("navbar-fixed-top")},c=function(){a(),Cookie.set("intro","0",{path:"/"}),setTimeout(function(){b().setOptions({steps:[{element:"#start-intro",intro:"点击这里重新开始教程, 点击背景结束教程.",position:"top"}],showStepNumbers:!1,exitOnOverlayClick:!0,scrollToElement:!0,showButtons:!1,showBullets:!1}).start()},0)},d="<strong class=text-success>进入下一页</strong>";["/","/intro"].contains($(location).prop("pathname"))?b().setOptions({steps:[{intro:"欢迎来到torabot. Torabot是一个网络事件订阅工具, 您可以订阅感兴趣的新番, 画师等, 在目标更新时您会收到来自torabot的邮件通知. 这个1分钟教程将引导您快速上手torabot."},{element:".intro-select-mod",intro:"从这里选择感兴趣的模块. 假设您希望使用torabot在虎穴抢本子.",position:"bottom"},{element:".intro-query",intro:'填写查询条件. 例如您想订阅东方相关的本子信息, 就填入"东方".',position:"bottom"},{element:".intro-search",intro:"点击这里开始搜索.",position:"bottom"}],nextLabel:"下一步",prevLabel:"上一步",skipLabel:"跳过教程",doneLabel:d,tooltipClass:"intro-tooltip",showStepNumbers:!1,exitOnOverlayClick:!0,scrollToElement:!0,showButtons:!0,showBullets:!0}).onbeforechange(function(a){var b=$(a);b.hasClass("intro-query")&&b.prop("value","东方")}).onexit(c).oncomplete(function(){a(),$(".intro-search").click()}).start():"/search/tora"==$(location).prop("pathname")?b().setOptions({steps:[{element:".intro-watch",intro:"如果您已经登录, 点击该按钮订阅该查询, 当查询结果更新时即可收到通知.",position:"bottom"},{element:".intro-advanced-search",intro:"您可能并不满足于简单查询, 点击这里进行高级搜索. 下面我们来试试订阅pixiv日榜.",position:"bottom"}],nextLabel:"下一步",prevLabel:"上一步",skipLabel:"跳过教程",doneLabel:d,tooltipClass:"intro-tooltip",showStepNumbers:!1,exitOnOverlayClick:!0,scrollToElement:!0,showButtons:!0,showBullets:!0}).onexit(c).oncomplete(function(){a(),$(location).attr("href",'{{ url_for("main.advanced_search", kind="pixiv", method="ranking") }}')}).start():"/search/advanced/pixiv"==$(location).prop("pathname")?b().setOptions({steps:[{element:".intro-pixiv-methods",intro:"高级搜索里通常包含多种搜索方式.",position:"bottom"},{element:".intro-pixiv-ranking-form",intro:"指定搜索条件, 系统会自动记录下每日新上榜的作品, 并邮件通知您.",position:"bottom"}],nextLabel:"下一步",prevLabel:"上一步",skipLabel:"跳过教程",doneLabel:d,tooltipClass:"intro-tooltip",showStepNumbers:!1,exitOnOverlayClick:!0,scrollToElement:!0,showButtons:!0,showBullets:!0}).onexit(c).oncomplete(function(){a(),$(location).attr("href",'{{ url_for("main.search", kind="pixiv", method="ranking", mode="daily", limit=10)|safe }}')}).start():"/search/pixiv"==$(location).prop("pathname")&&b().setOptions({steps:[{element:".intro-help",intro:"现在您已经学会了torabot的基本使用方法. 如果需要进一步了解各个模块的功能, 请在下拉菜单选择模块, 然后猛戳这里 :)",position:"bottom"}],nextLabel:"下一步",prevLabel:"上一步",skipLabel:"跳过教程",doneLabel:"开始使用torabot",showStepNumbers:!1,exitOnOverlayClick:!0,scrollToElement:!0,showButtons:!0,showBullets:!1}).onexit(c).oncomplete(c).start()})}),define("torabot/main/0.1.0/introjs.min.css",[],function(){seajs.importStyle(".introjs-overlay{position:absolute;z-index:999999;background-color:#000;opacity:0;background:-moz-radial-gradient(center,ellipse cover,rgba(0,0,0,.4) 0,rgba(0,0,0,.9) 100%);background:-webkit-gradient(radial,center center,0,center center,100%,color-stop(0%,rgba(0,0,0,.4)),color-stop(100%,rgba(0,0,0,.9)));background:-webkit-radial-gradient(center,ellipse cover,rgba(0,0,0,.4) 0,rgba(0,0,0,.9) 100%);background:-o-radial-gradient(center,ellipse cover,rgba(0,0,0,.4) 0,rgba(0,0,0,.9) 100%);background:-ms-radial-gradient(center,ellipse cover,rgba(0,0,0,.4) 0,rgba(0,0,0,.9) 100%);background:radial-gradient(center,ellipse cover,rgba(0,0,0,.4) 0,rgba(0,0,0,.9) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#66000000', endColorstr='#e6000000', GradientType=1);-ms-filter:\"alpha(opacity=50)\";filter:alpha(opacity=50);-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-ms-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}.introjs-fixParent{z-index:auto!important;opacity:1!important}.introjs-showElement{z-index:9999999!important}.introjs-relativePosition{position:relative}.introjs-helperLayer{position:absolute;z-index:9999998;background-color:#FFF;background-color:rgba(255,255,255,.9);border:1px solid #777;border:1px solid rgba(0,0,0,.5);border-radius:4px;box-shadow:0 2px 15px rgba(0,0,0,.4);-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-ms-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}.introjs-helperNumberLayer{position:absolute;top:-16px;left:-16px;z-index:9999999999!important;padding:2px;font-family:Arial,verdana,tahoma;font-size:13px;font-weight:700;color:#fff;text-align:center;text-shadow:1px 1px 1px rgba(0,0,0,.3);background:#ff3019;background:-webkit-linear-gradient(top,#ff3019 0,#cf0404 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#ff3019),color-stop(100%,#cf0404));background:-moz-linear-gradient(top,#ff3019 0,#cf0404 100%);background:-ms-linear-gradient(top,#ff3019 0,#cf0404 100%);background:-o-linear-gradient(top,#ff3019 0,#cf0404 100%);background:linear-gradient(to bottom,#ff3019 0,#cf0404 100%);width:20px;height:20px;line-height:20px;border:3px solid #fff;border-radius:50%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff3019', endColorstr='#cf0404', GradientType=0);filter:progid:DXImageTransform.Microsoft.Shadow(direction=135, strength=2, color=ff0000);box-shadow:0 2px 5px rgba(0,0,0,.4)}.introjs-arrow{border:5px solid #fff;content:'';position:absolute}.introjs-arrow.top{top:-10px;border-top-color:transparent;border-right-color:transparent;border-bottom-color:#fff;border-left-color:transparent}.introjs-arrow.right{right:-10px;top:10px;border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:#fff}.introjs-arrow.bottom{bottom:-10px;border-top-color:#fff;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent}.introjs-arrow.left{left:-10px;top:10px;border-top-color:transparent;border-right-color:#fff;border-bottom-color:transparent;border-left-color:transparent}.introjs-tooltip{position:absolute;padding:10px;background-color:#fff;min-width:200px;max-width:300px;border-radius:3px;box-shadow:0 1px 10px rgba(0,0,0,.4);-webkit-transition:opacity .1s ease-out;-moz-transition:opacity .1s ease-out;-ms-transition:opacity .1s ease-out;-o-transition:opacity .1s ease-out;transition:opacity .1s ease-out}.introjs-tooltipbuttons{text-align:right}.introjs-button{position:relative;overflow:visible;display:inline-block;padding:.3em .8em;border:1px solid #d4d4d4;margin:0;text-decoration:none;text-shadow:1px 1px 0 #fff;font:11px/normal sans-serif;color:#333;white-space:nowrap;cursor:pointer;outline:0;background-color:#ececec;background-image:-webkit-gradient(linear,0 0,0 100%,from(#f4f4f4),to(#ececec));background-image:-moz-linear-gradient(#f4f4f4,#ececec);background-image:-o-linear-gradient(#f4f4f4,#ececec);background-image:linear-gradient(#f4f4f4,#ececec);-webkit-background-clip:padding;-moz-background-clip:padding;-o-background-clip:padding-box;-webkit-border-radius:.2em;-moz-border-radius:.2em;border-radius:.2em;zoom:1;*display:inline;margin-top:10px}.introjs-button:hover{border-color:#bcbcbc;text-decoration:none;box-shadow:0 1px 1px #e3e3e3}.introjs-button:focus,.introjs-button:active{background-image:-webkit-gradient(linear,0 0,0 100%,from(#ececec),to(#f4f4f4));background-image:-moz-linear-gradient(#ececec,#f4f4f4);background-image:-o-linear-gradient(#ececec,#f4f4f4);background-image:linear-gradient(#ececec,#f4f4f4)}.introjs-button::-moz-focus-inner{padding:0;border:0}.introjs-skipbutton{margin-right:5px;color:#7a7a7a}.introjs-prevbutton{-webkit-border-radius:.2em 0 0 .2em;-moz-border-radius:.2em 0 0 .2em;border-radius:.2em 0 0 .2em;border-right:0}.introjs-nextbutton{-webkit-border-radius:0 .2em .2em 0;-moz-border-radius:0 .2em .2em 0;border-radius:0 .2em .2em 0}.introjs-disabled,.introjs-disabled:hover,.introjs-disabled:focus{color:#9a9a9a;border-color:#d4d4d4;box-shadow:none;cursor:default;background-color:#f4f4f4;background-image:none;text-decoration:none}.introjs-bullets{text-align:center}.introjs-bullets ul{clear:both;margin:15px auto 0;padding:0;display:inline-block}.introjs-bullets ul li{list-style:none;float:left;margin:0 2px}.introjs-bullets ul li a{display:block;width:6px;height:6px;background:#ccc;border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px;text-decoration:none}.introjs-bullets ul li a:hover{background:#999}.introjs-bullets ul li a.active{background:#999}.introjsFloatingElement{position:absolute;height:0;width:0;left:50%;top:50%}")}),define("torabot/main/0.1.0/introjs",[],function(a,b){!function(a,c){"object"==typeof b?c(b):"function"==typeof define&&define.amd?define(["exports"],c):c(a)}(this,function(a){function b(a){this._targetElement=a,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0}}function c(a){if(null==a||"object"!=typeof a||"undefined"!=typeof a.nodeType)return a;var b,d={};for(b in a)d[b]=c(a[b]);return d}function d(){if(this._direction="forward","undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),f.call(this,this._targetElement);else{var a=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element),i.call(this,a)}}function e(){if(this._direction="backward",0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element),i.call(this,a)}function f(a){var b=a.querySelector(".introjs-overlay");if(null!=b){if(b.style.opacity=0,setTimeout(function(){b.parentNode&&b.parentNode.removeChild(b)},500),(a=a.querySelector(".introjs-helperLayer"))&&a.parentNode.removeChild(a),(a=document.querySelector(".introjsFloatingElement"))&&a.parentNode.removeChild(a),(a=document.querySelector(".introjs-showElement"))&&(a.className=a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),(a=document.querySelectorAll(".introjs-fixParent"))&&0<a.length)for(var c=a.length-1;c>=0;c--)a[c].className=a[c].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function g(a,b,c,d){if(b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,b.style.marginLeft=null,b.style.marginTop=null,c.style.display="inherit","undefined"!=typeof d&&null!=d&&(d.style.top=null,d.style.left=null),this._introItems[this._currentStep]){var e="",e=this._introItems[this._currentStep],e="string"==typeof e.tooltipClass?e.tooltipClass:this._options.tooltipClass;switch(b.className=("introjs-tooltip "+e).replace(/^\s+|\s+$/g,""),this._introItems[this._currentStep].position){case"top":b.style.left="15px",b.style.top="-"+(l(b).height+10)+"px",c.className="introjs-arrow bottom";break;case"right":b.style.left=l(a).width+20+"px",c.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(b.style.top="15px"),b.style.right=l(a).width+20+"px",c.className="introjs-arrow right";break;case"floating":c.style.display="none",a=l(b),b.style.left="50%",b.style.top="50%",b.style.marginLeft="-"+a.width/2+"px",b.style.marginTop="-"+a.height/2+"px","undefined"!=typeof d&&null!=d&&(d.style.left="-"+(a.width/2+18)+"px",d.style.top="-"+(a.height/2+18)+"px");break;default:b.style.bottom="-"+(l(b).height+10)+"px",c.className="introjs-arrow top"}}}function h(a){if(a&&this._introItems[this._currentStep]){var b=this._introItems[this._currentStep],c=l(b.element),d=10;"floating"==b.position&&(d=0),a.setAttribute("style","width: "+(c.width+d)+"px; height:"+(c.height+d)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;")}}function i(a){var b;"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,a.element);var c=this,i=document.querySelector(".introjs-helperLayer");if(l(a.element),null!=i){var k=i.querySelector(".introjs-helperNumberLayer"),m=i.querySelector(".introjs-tooltiptext"),n=i.querySelector(".introjs-arrow"),o=i.querySelector(".introjs-tooltip"),p=i.querySelector(".introjs-skipbutton"),q=i.querySelector(".introjs-prevbutton"),r=i.querySelector(".introjs-nextbutton");o.style.opacity=0,null!=k&&(b=this._introItems[0<=a.step-2?a.step-2:0],null!=b&&"forward"==this._direction&&"floating"==b.position||"backward"==this._direction&&"floating"==a.position)&&(k.style.opacity=0),h.call(c,i);var s=document.querySelectorAll(".introjs-fixParent");if(s&&0<s.length)for(b=s.length-1;b>=0;b--)s[b].className=s[b].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");b=document.querySelector(".introjs-showElement"),b.className=b.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),c._lastShowElementTimer&&clearTimeout(c._lastShowElementTimer),c._lastShowElementTimer=setTimeout(function(){null!=k&&(k.innerHTML=a.step),m.innerHTML=a.intro,g.call(c,a.element,o,n,k),i.querySelector(".introjs-bullets li > a.active").className="",i.querySelector('.introjs-bullets li > a[data-stepnumber="'+a.step+'"]').className="active",o.style.opacity=1,k.style.opacity=1},350)}else{var p=document.createElement("div"),s=document.createElement("div"),t=document.createElement("div"),q=document.createElement("div"),r=document.createElement("div"),u=document.createElement("div");p.className="introjs-helperLayer",h.call(c,p),this._targetElement.appendChild(p),s.className="introjs-arrow",q.className="introjs-tooltiptext",q.innerHTML=a.intro,r.className="introjs-bullets",!1===this._options.showBullets&&(r.style.display="none");var v=document.createElement("ul");b=0;for(var w=this._introItems.length;w>b;b++){var x=document.createElement("li"),y=document.createElement("a");y.onclick=function(){c.goToStep(this.getAttribute("data-stepnumber"))},0===b&&(y.className="active"),y.href="javascript:void(0);",y.innerHTML="&nbsp;",y.setAttribute("data-stepnumber",this._introItems[b].step),x.appendChild(y),v.appendChild(x)}if(r.appendChild(v),u.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(u.style.display="none"),t.className="introjs-tooltip",t.appendChild(q),t.appendChild(r),1==this._options.showStepNumbers){var z=document.createElement("span");z.className="introjs-helperNumberLayer",z.innerHTML=a.step,p.appendChild(z)}t.appendChild(s),p.appendChild(t),r=document.createElement("a"),r.onclick=function(){c._introItems.length-1!=c._currentStep&&d.call(c)},r.href="javascript:void(0);",r.innerHTML=this._options.nextLabel,q=document.createElement("a"),q.onclick=function(){0!=c._currentStep&&e.call(c)},q.href="javascript:void(0);",q.innerHTML=this._options.prevLabel,p=document.createElement("a"),p.className="introjs-button introjs-skipbutton",p.href="javascript:void(0);",p.innerHTML=this._options.skipLabel,p.onclick=function(){c._introItems.length-1==c._currentStep&&"function"==typeof c._introCompleteCallback&&c._introCompleteCallback.call(c),c._introItems.length-1!=c._currentStep&&"function"==typeof c._introExitCallback&&c._introExitCallback.call(c),f.call(c,c._targetElement)},u.appendChild(p),1<this._introItems.length&&(u.appendChild(q),u.appendChild(r)),t.appendChild(u),g.call(c,a.element,t,s,z)}for(0==this._currentStep&&1<this._introItems.length?(q.className="introjs-button introjs-prevbutton introjs-disabled",r.className="introjs-button introjs-nextbutton",p.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(p.innerHTML=this._options.doneLabel,q.className="introjs-button introjs-prevbutton",r.className="introjs-button introjs-nextbutton introjs-disabled"):(q.className="introjs-button introjs-prevbutton",r.className="introjs-button introjs-nextbutton",p.innerHTML=this._options.skipLabel),r.focus(),a.element.className+=" introjs-showElement",b=j(a.element,"position"),"absolute"!==b&&"relative"!==b&&(a.element.className+=" introjs-relativePosition"),b=a.element.parentNode;null!=b&&"body"!==b.tagName.toLowerCase();)s=j(b,"z-index"),t=parseFloat(j(b,"opacity")),(/[0-9]+/.test(s)||1>t)&&(b.className+=" introjs-fixParent"),b=b.parentNode;b=a.element.getBoundingClientRect(),!(0<=b.top&&0<=b.left&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth)&&!0===this._options.scrollToElement&&(t=a.element.getBoundingClientRect(),b=void 0!=window.innerWidth?window.innerHeight:document.documentElement.clientHeight,s=t.bottom-(t.bottom-t.top),t=t.bottom-b,0>s||a.element.clientHeight>b?window.scrollBy(0,s-30):window.scrollBy(0,t+100)),"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,a.element)}function j(a,b){var c="";return a.currentStyle?c=a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c&&c.toLowerCase?c.toLowerCase():c}function k(a){var b=document.createElement("div"),c="",d=this;if(b.className="introjs-overlay","body"===a.tagName.toLowerCase())c+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",b.setAttribute("style",c);else{var e=l(a);e&&(c+="width: "+e.width+"px; height:"+e.height+"px; top:"+e.top+"px;left: "+e.left+"px;",b.setAttribute("style",c))}return a.appendChild(b),b.onclick=function(){1==d._options.exitOnOverlayClick&&(f.call(d,a),void 0!=d._introExitCallback&&d._introExitCallback.call(d))},setTimeout(function(){c+="opacity: .8;",b.setAttribute("style",c)},10),!0}function l(a){var b={};b.width=a.offsetWidth,b.height=a.offsetHeight;for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;return b.top=d,b.left=c,b}var m=function(a){if("object"==typeof a)return new b(a);if("string"==typeof a){if(a=document.querySelector(a))return new b(a);throw Error("There is no element with given selector.")}return new b(document.body)};return m.version="0.8.0",m.fn=b.prototype={clone:function(){return new b(this)},setOption:function(a,b){return this._options[a]=b,this},setOptions:function(a){var b,c=this._options,d={};for(b in c)d[b]=c[b];for(b in a)d[b]=a[b];return this._options=d,this},start:function(){a:{var a=this._targetElement,b=[],g=this;if(this._options.steps)for(var i=[],j=0,i=this._options.steps.length;i>j;j++){var l=c(this._options.steps[j]);if(l.step=b.length+1,"string"==typeof l.element&&(l.element=document.querySelector(l.element)),"undefined"==typeof l.element||null==l.element){var m=document.querySelector(".introjsFloatingElement");null==m&&(m=document.createElement("div"),m.className="introjsFloatingElement",document.body.appendChild(m)),l.element=m,l.position="floating"}null!=l.element&&b.push(l)}else{if(i=a.querySelectorAll("*[data-intro]"),1>i.length)break a;for(j=0,l=i.length;l>j;j++){var m=i[j],n=parseInt(m.getAttribute("data-step"),10);n>0&&(b[n-1]={element:m,intro:m.getAttribute("data-intro"),step:parseInt(m.getAttribute("data-step"),10),tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition})}for(j=n=0,l=i.length;l>j;j++)if(m=i[j],null==m.getAttribute("data-step")){for(;"undefined"!=typeof b[n];)n++;b[n]={element:m,intro:m.getAttribute("data-intro"),step:n+1,tooltipClass:m.getAttribute("data-tooltipClass"),position:m.getAttribute("data-position")||this._options.tooltipPosition}}}for(j=[],i=0;i<b.length;i++)b[i]&&j.push(b[i]);b=j,b.sort(function(a,b){return a.step-b.step}),g._introItems=b,k.call(g,a)&&(d.call(g),a.querySelector(".introjs-skipbutton"),a.querySelector(".introjs-nextbutton"),g._onKeyDown=function(b){27===b.keyCode&&1==g._options.exitOnEsc?(f.call(g,a),void 0!=g._introExitCallback&&g._introExitCallback.call(g)):37===b.keyCode?e.call(g):(39===b.keyCode||13===b.keyCode)&&(d.call(g),b.preventDefault?b.preventDefault():b.returnValue=!1)},g._onResize=function(){h.call(g,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",g._onKeyDown,!0),window.addEventListener("resize",g._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",g._onKeyDown),document.attachEvent("onresize",g._onResize)))}return this},goToStep:function(a){return this._currentStep=a-2,"undefined"!=typeof this._introItems&&d.call(this),this},nextStep:function(){return d.call(this),this},previousStep:function(){return e.call(this),this},exit:function(){f.call(this,this._targetElement)},refresh:function(){return h.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(a){if("function"!=typeof a)throw Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=a,this},onchange:function(a){if("function"!=typeof a)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=a,this},onafterchange:function(a){if("function"!=typeof a)throw Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=a,this},oncomplete:function(a){if("function"!=typeof a)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=a,this},onexit:function(a){if("function"!=typeof a)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=a,this}},a.introJs=m})});
