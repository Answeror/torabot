define("torabot/danbooru/0.1.0/danbooru",["main/completion"],function(a,b,c){var d={activated:function(){return d.completion.activated()},activate:function(){return d.completion.activate()},deactivate:function(){return d.completion.deactivate()},match:function(a,b){var c=a.split(" ").slice(-1)[0];return d.fetch(c).done(function(a){return b($.map(a.result,function(a){return{value:a.name}}))})},fetch:function(a){return $.ajax({url:d.make_json_uri(a),type:"get"})},make_json_uri:function(a){return d.options.call_url+"?"+$.param({arg:JSON.stringify({type:"completion",query:a+"*"})})},default_options:{},init:function(b){d.options=$.extend({},d.default_options,b),d.completion=a("main/completion").make({source:d.match})}};c.exports={init:d.init,activate:d.activate,deactivate:d.deactivate}});
